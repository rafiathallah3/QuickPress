{"version":3,"sources":["../src/content.ts"],"sourcesContent":["export {};\r\n\r\nconst HIGHLIGHT_CLASS = \"quickpress-highlight\";\r\nconst BUTTON_HIGHLIGHT_CLASS = \"quickpress-button-highlight\";\r\nconst BUTTON_ACTIVE_CLASS = \"quickpress-button-highlight-active\";\r\nconst OVERLAY_ID = \"quickpress-overlay\";\r\nconst SHORTCUT_KEYS = \"1234567890abcdefghijklmnopqrstuvwxyz\";\r\nconst SHORTCUT_STORAGE_KEY = \"shortcut\";\r\n\r\ntype CommandTarget = HTMLElement & {\r\n  click(): void;\r\n};\r\n\r\ntype ShortcutConfig = {\r\n  ctrl: boolean;\r\n  alt: boolean;\r\n  shift: boolean;\r\n  meta: boolean;\r\n  key: string;\r\n};\r\n\r\nconst DEFAULT_SHORTCUT: ShortcutConfig = {\r\n  ctrl: true,\r\n  alt: false,\r\n  shift: false,\r\n  meta: false,\r\n  key: \"q\"\r\n};\r\n\r\nlet shortcutConfig: ShortcutConfig = DEFAULT_SHORTCUT;\r\n\r\nconst styleEl = document.createElement(\"style\");\r\nstyleEl.id = \"quickpress-style\";\r\nstyleEl.textContent = `\r\n  .${HIGHLIGHT_CLASS} {\r\n    transition: box-shadow 200ms ease-in-out, background 200ms ease-in-out;\r\n    box-shadow: inset 0 0 0 4px rgba(37, 99, 235, 0.4);\r\n    background: rgba(148, 197, 255, 0.2);\r\n  }\r\n\r\n  .${BUTTON_HIGHLIGHT_CLASS} {\r\n    outline: 3px dashed rgba(37, 99, 235, 0.7) !important;\r\n    outline-offset: 2px !important;\r\n    position: relative;\r\n  }\r\n\r\n  .${BUTTON_ACTIVE_CLASS} {\r\n    box-shadow: inset 0 0 0 4px rgba(37, 99, 235, 0.7),\r\n      0 0 12px rgba(37, 99, 235, 0.6) !important;\r\n    background: rgba(148, 197, 255, 0.45) !important;\r\n  }\r\n\r\n  #${OVERLAY_ID} {\r\n    position: fixed;\r\n    inset: 0;\r\n    z-index: 2147483647;\r\n    display: flex;\r\n    align-items: flex-start;\r\n    justify-content: center;\r\n    padding: 24px 16px 32px;\r\n    font-family: system-ui, -apple-system, Segoe UI, sans-serif;\r\n  }\r\n\r\n  #${OVERLAY_ID} .quickpress-panel {\r\n    background: #f8fafc;\r\n    min-width: 320px;\r\n    max-width: min(520px, 90vw);\r\n    max-height: min(70vh, 520px);\r\n    border-radius: 12px;\r\n    padding: 16px;\r\n    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.3);\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 12px;\r\n  }\r\n\r\n  #${OVERLAY_ID} h2 {\r\n    margin: 0;\r\n    font-size: 18px;\r\n    color: #0f172a;\r\n  }\r\n\r\n  #${OVERLAY_ID} p {\r\n    margin: 0;\r\n    font-size: 13px;\r\n    color: #475569;\r\n  }\r\n\r\n  #${OVERLAY_ID} .quickpress-search {\r\n    width: 100%;\r\n    border: 1px solid #cbd5f5;\r\n    border-radius: 8px;\r\n    padding: 8px 12px;\r\n    font-size: 14px;\r\n    outline: none;\r\n    transition: border-color 120ms ease-in-out, box-shadow 120ms ease-in-out;\r\n  }\r\n\r\n  #${OVERLAY_ID} .quickpress-search:focus {\r\n    border-color: #2563eb;\r\n    box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.2);\r\n  }\r\n\r\n  #${OVERLAY_ID} ul {\r\n    list-style: none;\r\n    padding: 0;\r\n    margin: 0;\r\n    overflow-y: auto;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 8px;\r\n  }\r\n\r\n  #${OVERLAY_ID} li {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    background: #e2e8f0;\r\n    border-radius: 8px;\r\n    padding: 10px 14px;\r\n    cursor: pointer;\r\n    font-size: 14px;\r\n    color: #0f172a;\r\n    transition: background 120ms ease-in-out;\r\n  }\r\n\r\n  #${OVERLAY_ID} li:hover,\r\n  #${OVERLAY_ID} li:focus-visible {\r\n    background: #cbd5f5;\r\n  }\r\n\r\n  #${OVERLAY_ID} .quickpress-shortcut {\r\n    background: #1d4ed8;\r\n    color: #fff;\r\n    font-weight: 600;\r\n    border-radius: 6px;\r\n    padding: 2px 8px;\r\n    font-size: 12px;\r\n  }\r\n`;\r\n\r\nif (!document.getElementById(styleEl.id)) {\r\n  document.head.appendChild(styleEl);\r\n}\r\n\r\nconst sanitizeShortcut = (value: unknown): ShortcutConfig => {\r\n  if (!value || typeof value !== \"object\") {\r\n    return { ...DEFAULT_SHORTCUT };\r\n  }\r\n\r\n  const candidate = value as Partial<ShortcutConfig> & { key?: string };\r\n  const trimmedKey =\r\n    typeof candidate.key === \"string\" && candidate.key.trim().length > 0\r\n      ? candidate.key.trim().toLowerCase().slice(0, 1)\r\n      : DEFAULT_SHORTCUT.key;\r\n\r\n  return {\r\n    ctrl: Boolean(candidate.ctrl),\r\n    alt: Boolean(candidate.alt),\r\n    shift: Boolean(candidate.shift),\r\n    meta: Boolean(candidate.meta),\r\n    key: trimmedKey\r\n  };\r\n};\r\n\r\nconst applyShortcutConfig = (value: unknown) => {\r\n  shortcutConfig = sanitizeShortcut(value);\r\n};\r\n\r\nconst loadShortcutConfig = () => {\r\n  chrome.storage.sync.get(SHORTCUT_STORAGE_KEY, (result) => {\r\n    applyShortcutConfig(result?.[SHORTCUT_STORAGE_KEY]);\r\n  });\r\n};\r\n\r\nconst normalizedEventKey = (value: string) =>\r\n  value.length === 1 ? value.toLowerCase() : value.toLowerCase();\r\n\r\nconst matchesShortcut = (event: KeyboardEvent) => {\r\n  const key = normalizedEventKey(event.key);\r\n  return (\r\n    Boolean(event.ctrlKey) === Boolean(shortcutConfig.ctrl) &&\r\n    Boolean(event.altKey) === Boolean(shortcutConfig.alt) &&\r\n    Boolean(event.shiftKey) === Boolean(shortcutConfig.shift) &&\r\n    Boolean(event.metaKey) === Boolean(shortcutConfig.meta) &&\r\n    key === shortcutConfig.key\r\n  );\r\n};\r\n\r\nloadShortcutConfig();\r\n\r\nchrome.storage.onChanged.addListener((changes, areaName) => {\r\n  if (areaName === \"sync\" && SHORTCUT_STORAGE_KEY in changes) {\r\n    const change = changes[SHORTCUT_STORAGE_KEY];\r\n    applyShortcutConfig(change?.newValue);\r\n  }\r\n});\r\n\r\nconst state: {\r\n  overlay: HTMLDivElement | null;\r\n  highlighted: CommandTarget[];\r\n  activeIndex: number | null;\r\n} = {\r\n  overlay: null,\r\n  highlighted: [],\r\n  activeIndex: null\r\n};\r\n\r\nchrome.runtime.onMessage.addListener((message, _sender, sendResponse) => {\r\n  if (message?.type === \"HIGHLIGHT\") {\r\n    document.body.classList.toggle(HIGHLIGHT_CLASS);\r\n    sendResponse({ ok: true });\r\n  }\r\n});\r\n\r\nconst isTypingField = (target: EventTarget | null) => {\r\n  if (!(target instanceof HTMLElement)) {\r\n    return false;\r\n  }\r\n  const tag = target.tagName.toLowerCase();\r\n  return (\r\n    target.isContentEditable ||\r\n    tag === \"input\" ||\r\n    tag === \"textarea\" ||\r\n    tag === \"select\"\r\n  );\r\n};\r\n\r\nconst collectTargets = (): CommandTarget[] => {\r\n  const nodes = Array.from(\r\n    document.querySelectorAll<CommandTarget>(\r\n      \"button, [role='button'], a[href]\"\r\n    )\r\n  );\r\n\r\n  return nodes.filter(\r\n    (node) =>\r\n      node instanceof HTMLElement &&\r\n      node.offsetParent !== null &&\r\n      !(node instanceof HTMLButtonElement && node.disabled)\r\n  );\r\n};\r\n\r\nconst resetHighlights = () => {\r\n  state.highlighted.forEach((btn) => {\r\n    btn.classList.remove(BUTTON_HIGHLIGHT_CLASS);\r\n    btn.classList.remove(BUTTON_ACTIVE_CLASS);\r\n  });\r\n  state.highlighted = [];\r\n  state.activeIndex = null;\r\n};\r\n\r\nconst closeOverlay = () => {\r\n  resetHighlights();\r\n  state.overlay?.remove();\r\n  state.overlay = null;\r\n};\r\n\r\nconst executeButton = (index: number) => {\r\n  const target = state.highlighted[index];\r\n  if (!target) {\r\n    return;\r\n  }\r\n  closeOverlay();\r\n  target.focus({ preventScroll: false });\r\n  target.click();\r\n};\r\n\r\nconst setActiveHighlight = (index: number | null) => {\r\n  if (state.activeIndex !== null) {\r\n    state.highlighted[state.activeIndex]?.classList.remove(BUTTON_ACTIVE_CLASS);\r\n  }\r\n  state.activeIndex = index;\r\n  if (index !== null) {\r\n    state.highlighted[index]?.classList.add(BUTTON_ACTIVE_CLASS);\r\n  }\r\n};\r\n\r\nconst createListItem = (\r\n  button: CommandTarget,\r\n  index: number,\r\n  shortcut: string | undefined\r\n) => {\r\n  const li = document.createElement(\"li\");\r\n  li.tabIndex = 0;\r\n  li.dataset.index = String(index);\r\n  if (shortcut) {\r\n    li.dataset.shortcut = shortcut;\r\n  }\r\n\r\n  const label =\r\n    button.innerText?.trim() ||\r\n    button.getAttribute(\"aria-label\") ||\r\n    button.getAttribute(\"title\") ||\r\n    button.id ||\r\n    (button instanceof HTMLAnchorElement\r\n      ? button.getAttribute(\"href\")\r\n      : undefined) ||\r\n    `Element ${index + 1}`;\r\n\r\n  li.dataset.label = label.toLowerCase();\r\n\r\n  const labelSpan = document.createElement(\"span\");\r\n  labelSpan.textContent = label;\r\n\r\n  const shortcutSpan = document.createElement(\"span\");\r\n  shortcutSpan.className = \"quickpress-shortcut\";\r\n  shortcutSpan.textContent = shortcut ?? \"click\";\r\n\r\n  li.append(labelSpan, shortcutSpan);\r\n  li.addEventListener(\"click\", () => executeButton(index));\r\n  li.addEventListener(\"keydown\", (event) => {\r\n    if (event.key === \"Enter\" || event.key === \" \") {\r\n      event.preventDefault();\r\n      executeButton(index);\r\n    }\r\n  });\r\n  li.addEventListener(\"focus\", () => setActiveHighlight(index));\r\n  li.addEventListener(\"blur\", () => setActiveHighlight(null));\r\n\r\n  return li;\r\n};\r\n\r\nconst openOverlay = () => {\r\n  const buttons = collectTargets();\r\n  if (buttons.length === 0) {\r\n    closeOverlay();\r\n    return;\r\n  }\r\n\r\n  buttons.forEach((btn) => btn.classList.add(BUTTON_HIGHLIGHT_CLASS));\r\n  state.highlighted = buttons;\r\n\r\n  const overlay = document.createElement(\"div\");\r\n  overlay.id = OVERLAY_ID;\r\n\r\n  const panel = document.createElement(\"div\");\r\n  panel.className = \"quickpress-panel\";\r\n\r\n  const title = document.createElement(\"h2\");\r\n  title.textContent = \"QuickPress Actions\";\r\n\r\n  const instructions = document.createElement(\"p\");\r\n  instructions.textContent =\r\n    \"Search by text, press the shortcut key, or click an item. Press Esc to cancel.\";\r\n\r\n  const searchInput = document.createElement(\"input\");\r\n  searchInput.type = \"search\";\r\n  searchInput.placeholder = \"Filter buttons and links...\";\r\n  searchInput.className = \"quickpress-search\";\r\n\r\n  const list = document.createElement(\"ul\");\r\n\r\n  buttons.forEach((btn, index) => {\r\n    const shortcut = SHORTCUT_KEYS[index];\r\n    const item = createListItem(btn, index, shortcut);\r\n    list.appendChild(item);\r\n  });\r\n\r\n  const filterList = (query: string) => {\r\n    const normalized = query.trim().toLowerCase();\r\n    list\r\n      .querySelectorAll<HTMLLIElement>(\"li\")\r\n      .forEach((item) => {\r\n        const label = item.dataset.label ?? \"\";\r\n        const matches = !normalized || label.includes(normalized);\r\n        item.style.display = matches ? \"flex\" : \"none\";\r\n      });\r\n  };\r\n\r\n  searchInput.addEventListener(\"input\", () => filterList(searchInput.value));\r\n\r\n  panel.append(title, instructions, searchInput, list);\r\n  overlay.appendChild(panel);\r\n  document.body.appendChild(overlay);\r\n\r\n  state.overlay = overlay;\r\n\r\n  requestAnimationFrame(() => searchInput.focus());\r\n};\r\n\r\nconst toggleOverlay = () => {\r\n  if (state.overlay) {\r\n    closeOverlay();\r\n  } else {\r\n    openOverlay();\r\n  }\r\n};\r\n\r\ndocument.addEventListener(\r\n  \"keydown\",\r\n  (event) => {\r\n    if (event.defaultPrevented) {\r\n      return;\r\n    }\r\n\r\n    if (state.overlay) {\r\n      const key = event.key.toLowerCase();\r\n      if (key === \"escape\") {\r\n        event.preventDefault();\r\n        closeOverlay();\r\n        return;\r\n      }\r\n\r\n      if (\r\n        !isTypingField(event.target) &&\r\n        SHORTCUT_KEYS.includes(key)\r\n      ) {\r\n        const index = SHORTCUT_KEYS.indexOf(key);\r\n        if (index > -1 && index < state.highlighted.length) {\r\n          event.preventDefault();\r\n          executeButton(index);\r\n          return;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (matchesShortcut(event)) {\r\n      event.preventDefault();\r\n      toggleOverlay();\r\n    }\r\n  },\r\n  true\r\n);\r\n"],"mappings":"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","names":[]}